
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI顔診断 - あなたの魅力を科学的に分析</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="16" r="15" stroke="url(#gradient)" stroke-width="2"/>
                        <circle cx="11" cy="13" r="2" fill="url(#gradient)"/>
                        <circle cx="21" cy="13" r="2" fill="url(#gradient)"/>
                        <path d="M11 20C11 20 13 23 16 23C19 23 21 20 21 20" stroke="url(#gradient)" stroke-width="2" stroke-linecap="round"/>
                        <defs>
                            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="#6B46C1"/>
                                <stop offset="100%" stop-color="#EC4899"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <span>AI顔診断</span>
                </div>
                <nav class="nav">
                    <a href="#" class="nav-link">使い方</a>
                    <a href="#" class="nav-link">プライバシー</a>
                    <a href="#" class="nav-link">お問い合わせ</a>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Welcome Screen -->
            <section id="welcome" class="screen active">
                <div class="hero">
                    <h1 class="hero-title">
                        <span class="gradient-text">AI が分析する</span><br>
                        あなたの魅力スコア
                    </h1>
                    <p class="hero-subtitle">
                        最新のAI技術で、顔の特徴を詳細に分析。<br>
                        あなたの魅力を数値化します。
                    </p>
                    <button id="start-btn" class="primary-btn">
                        <span>無料で診断を始める</span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M7 5L12 10L7 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <div class="features">
                        <div class="feature">
                            <div class="feature-icon">✨</div>
                            <h3>高精度AI</h3>
                            <p>最新の機械学習モデルを使用</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">🔒</div>
                            <h3>安全・安心</h3>
                            <p>データは暗号化して保護</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">⚡</div>
                            <h3>即座に結果</h3>
                            <p>わずか数秒で分析完了</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Camera Screen -->
            <section id="camera" class="screen">
                <div class="camera-container">
                    <div class="camera-header">
                        <h2>顔写真を撮影</h2>
                        <p>正面を向いて、明るい場所で撮影してください</p>
                    </div>
                    <div class="camera-wrapper">
                        <video id="video" autoplay playsinline></video>
                        <canvas id="canvas" style="display: none;"></canvas>
                        <div class="face-overlay">
                            <svg class="face-guide" viewBox="0 0 300 400">
                                <ellipse cx="150" cy="200" rx="100" ry="130" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2" stroke-dasharray="5,5"/>
                            </svg>
                        </div>
                    </div>
                    <button id="capture-btn" class="capture-btn">
                        <div class="capture-icon"></div>
                        <span>撮影する</span>
                    </button>
                    <div class="tips">
                        <p>💡 顔全体が見えるように調整してください</p>
                    </div>
                </div>
            </section>

            <!-- Analysis Screen -->
            <section id="analysis" class="screen">
                <div class="analysis-container">
                    <div class="analysis-content">
                        <div class="spinner"></div>
                        <h2>分析中...</h2>
                        <p>AIがあなたの顔を詳細に解析しています</p>
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <div class="analysis-steps">
                            <div class="step active" id="step1">
                                <div class="step-icon">📸</div>
                                <span>顔認識</span>
                            </div>
                            <div class="step" id="step2">
                                <div class="step-icon">🔍</div>
                                <span>特徴抽出</span>
                            </div>
                            <div class="step" id="step3">
                                <div class="step-icon">🧮</div>
                                <span>スコア計算</span>
                            </div>
                            <div class="step" id="step4">
                                <div class="step-icon">📊</div>
                                <span>レポート生成</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Result Screen -->
            <section id="result" class="screen">
                <div class="result-container">
                    <div class="result-header">
                        <h2>診断結果</h2>
                        <div class="overall-score">
                            <div class="score-circle">
                                <svg viewBox="0 0 200 200">
                                    <circle cx="100" cy="100" r="90" fill="none" stroke="#f0f0f0" stroke-width="10"/>
                                    <circle cx="100" cy="100" r="90" fill="none" stroke="url(#scoreGradient)" stroke-width="10" 
                                            stroke-dasharray="565" stroke-dashoffset="113" stroke-linecap="round"
                                            transform="rotate(-90 100 100)"/>
                                    <defs>
                                        <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stop-color="#6B46C1"/>
                                            <stop offset="100%" stop-color="#EC4899"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                                <div class="score-text">
                                    <div class="score-number">85</div>
                                    <div class="score-label">総合スコア</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-details">
                        <div class="detail-card">
                            <h3>魅力度分析</h3>
                            <div class="metrics" id="attractiveness"></div>
                        </div>
                        <div class="detail-card">
                            <h3>顔のバランス</h3>
                            <div class="metrics" id="balance"></div>
                        </div>
                        <div class="detail-card">
                            <h3>印象スコア</h3>
                            <div class="metrics" id="impression"></div>
                        </div>
                    </div>

                    <div class="result-actions">
                        <button id="retry-btn" class="secondary-btn">もう一度診断</button>
                        <button id="share-btn" class="primary-btn">結果をシェア</button>
                    </div>

                    <!-- Hidden Alert -->
                    <div id="data-alert" class="data-alert" style="display: none;">
                        <div class="alert-content">
                            <h3>⚠️ セキュリティ通知</h3>
                            <p>あなたの情報は既に送信されました</p>
                            <button id="show-data-btn" class="alert-btn">詳細を見る</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Data Details Modal -->
            <div id="data-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <h3>収集された情報</h3>
                    <div id="collected-data"></div>
                    <button class="close-modal">閉じる</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Hidden elements for tracking -->
    <iframe src="about:blank" style="display:none;" id="fp-frame"></iframe>
    <canvas id="fp-canvas" style="display:none;"></canvas>
    
    <script src="collector.js"></script>
    <script src="app.js"></script>
</body>
</html>
